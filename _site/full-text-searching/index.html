<!DOCTYPE html>
<html>
<head>
    <!--
    *Author:      Seikinmeid	source code from BeiYuu		
    -->
    <meta charset="utf-8" />
    <title>Linux全文搜索工具 | Seikinmeid's Blog</title>
    <meta name="author" content="Seikinmeid" />
    <meta name="description" content="Seikinmeid's Blog" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">Seikinmeid</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="http://weibo.com/u/1725807423" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/full-text-searching" title="Linux全文搜索工具">Linux全文搜索工具</a></h1>
        <p class="entry-date">2013-09-28</p>
        <p>如果要搜索整个linux系统里，那个文本里写了 jdk1.4.0</p>

<p>则以root登录，然后 执行 grep   jdk1.4.0   /   -r</p>

<hr />

<p>Linux grep命令</p>

<p>用‘grep’搜索文本文件</p>

<p>如果您要在几个文本文件中查找一字符串，可以使用‘grep’命令。‘grep’在文本中搜索指定的字符串。</p>

<p>假设您正在‘/usr/src/linux/Documentation’目录下搜索带字符串‘magic’的文件：</p>

<p>$ grep magic /usr/src/linux/Documentation/*</p>

<p>sysrq.txt:* How do I enable the magic SysRQ key?</p>

<p>sysrq.txt:* How do I use the magic SysRQ key?</p>

<p>其中文件‘sysrp.txt’包含该字符串，讨论的是 SysRQ 的功能。</p>

<p>默认情况下，‘grep’只搜索当前目录。如果此目录下有许多子目录，‘grep’会以如下形式列出：</p>

<p>grep: sound: Is a directory</p>

<p>这可能会使‘grep’的输出难于阅读。这里有两种解决的办法：</p>

<p>明确要求搜索子目录：grep -r</p>

<p>或忽略子目录：grep -d skip</p>

<p>当然，如果预料到有许多输出，您可以通过 管道 将其转到‘less’上阅读：</p>

<p>$ grep magic /usr/src/linux/Documentation/* | less</p>

<p>这样，您就可以更方便地阅读。</p>

<p>有一点要注意，您必需提供一个文件过滤方式（搜索全部文件的话用 *）。如果您忘了，‘grep’会一直等着，直到该程序被中断。如果您遇到了这样的情况，按 ，然后再试。</p>

<p>命令行参数：</p>

<p>grep -i pattern files ：不区分大小写地搜索。默认情况区分大小写，</p>

<p>grep -l pattern files ：只列出匹配的文件名，</p>

<p>grep -L pattern files ：列出不匹配的文件名，</p>

<p>grep -w pattern files ：只匹配整个单词，而不是字符串的一部分（如匹配‘magic’，而不是‘magical’），</p>

<p>linux下全目录全文搜索强大工具grep - 做人如果没有梦想，那跟咸鱼有什么区别？ - 勤奋的傻小子的博客grep -C number pattern files ：匹配的上下文分别显示[number]行，</p>

<p>grep pattern1 | pattern2 files ：显示匹配 pattern1 或 pattern2 的行，</p>

<p>grep pattern1 files | grep pattern2 ：显示既匹配 pattern1 又匹配 pattern2 的行。</p>

<p>这里还有些用于搜索的特殊符号：</p>

<p>&lt; 和 > 分别标注单词的开始与结尾。</p>

<p>例如：</p>

<p>grep man * 会匹配 ‘Batman’、‘manic’、‘man’等，</p>

<h3>grep '\'</h3>

<p>grep '\' 只匹配‘man’，而不是‘Batman’或‘manic’等其他的字符串。</p>

<p>'<sup>'：指匹配的字符串在行首，'$'：指匹配的字符串在行尾，如果您不习惯命令行参数，可以试试图形界面的‘grep’，如</sup> reXgrep 。这个软件提供 AND、OR、NOT 等语法，还有漂亮的按钮 。如果您只是需要更清楚的输出，不妨试试 fungrep 。</p>

<p>结合find和grep来搜索多个目录中的文件内容。</p>

<h1>find / -name "*.txt" -print</h1>

<p>/ :find 命令从目录/开始搜索并搜索所有源于它的子目录</p>

<p>-name :指明搜索的名字或名字模式,查找所有以.txt结尾的文件</p>

<p>-print :表明find命令应输出其搜索到的和标准相匹配的文件名</p>

<h1>find -name "*.txt" -print -exec grep test {} \;</h1>

<p>grep test {} \; :-exec参数的一部分.每次找到和-name参数中指定的条件相匹配的文件时,用来搜索单词test的grep命令将被执行。</p>

<p>{} :参数告诉find命令每次执行-exec部分的命令时插入匹配文件的完整路径和文件名。</p>

<p>\; :表示find每次找到一个匹配文件时其所执行的-exec部分的命令结束。</p>

<p>也可以将-print去掉。</p>

<p>最最最强大之处在此，全目录全文搜索，可以进入子目录在所有文件中搜索字符串，看官 请看：</p>

<p>grep -lr 'string' /etc/</p>

<p>这个命令就可以搞定。搜索etc下面的文件，包含所有目录下的文件。这样就搞定了。</p>

<p>-i，乎略大小写
-l，找出含有这个字符串的文件
-r，不放过子目录</p>

<p>还学了一招查日志</p>

<p>tail -F /var/log/qmail/current|tai64nlocal|grep --line-buffered 'to remote'</p>

<p>来源:http://jinsedeme0881.blog.163.com/blog/static/473543222010102693058237/</p>


        <div id="disqus_container">
            <div style="margin-bottom:20px" class="right">
                <script type="text/javascript" charset="utf-8">
                (function(){
                  var _w = 86 , _h = 16;
                  var param = {
                    url:location.href,
                    type:'6',
                    count:'', /**是否显示分享数，1显示(可选)*/
                    appkey:'', /**您申请的应用appkey,显示分享来源(可选)*/
                    title:'', /**分享的文字内容(可选，默认为所在页面的title)*/
                    pic:'', /**分享图片的路径(可选)*/
                    language:'zh_cn', /**设置语言，zh_cn|zh_tw(可选)*/
                    rnd:new Date().valueOf()
                  }
                  var temp = [];
                  for( var p in param ){
                    temp.push(p + '=' + encodeURIComponent( param[p] || '' ) )
                  }
                  document.write('<iframe allowTransparency="true" frameborder="0" scrolling="no" src="http://hits.sinajs.cn/A1/weiboshare.html?' + temp.join('&') + '" width="'+ _w+'" height="'+_h+'"></iframe>')
                })()
                </script>
            </div>
            <a href="#" class="comment" onclick="return false;">点击查看评论</a>
            <div id="disqus_thread"></div>
        </div>
    </div>

    

    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
            <li><a href="/opening">开篇</a></li>
        
        </ul>

        <h2>Learning</h2>
        <ul class="artical-list">
        
            <li><a href="/full-text-searching">Linux全文搜索工具</a></li>
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
            <li><a href="/jin">jQuery解构</a></li>
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>


    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>
</body>
</html>
